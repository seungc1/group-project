(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[209],{9914:function(e,t,n){Promise.resolve().then(n.bind(n,8946))},8946:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var i=n(7437),s=n(2265),a=n(8131),l=n(5978),r=n(9999),c=n.n(r);function o(){let[e,t]=(0,s.useState)([]),[n,r]=(0,s.useState)(!0),[o,d]=(0,s.useState)(null),[m,g]=(0,s.useState)(null);(0,s.useEffect)(()=>{(async()=>{try{console.log("Fetching all meetings...");let e=(0,l.hJ)(a.db,"meetings"),n=await (0,l.PL)(e);console.log("Total number of meetings:",n.size);let i=n.docs.map(e=>{var t,n,i;let s=e.data();return console.log("Meeting ID:",e.id),console.log("Meeting data:",s),{id:e.id,title:s.title||"제목 없음",createdAt:(null===(i=s.createAt)||void 0===i?void 0:null===(n=i.toDate)||void 0===n?void 0:null===(t=n.call(i))||void 0===t?void 0:t.toLocaleDateString())||"날짜 없음",participants:s.participants||0,participantName:s.participantName||[],audioUrl:s.audioUrl||null,textinfo:s.textinfo||[],isExpanded:!1}});i.sort((e,t)=>{let n=new Date(e.createdAt);return new Date(t.createdAt)-n}),console.log("Total meetings loaded:",i.length),t(i)}catch(e){console.error("Error fetching meetings:",e),d(e.message)}finally{r(!1)}})()},[]);let _=n=>{t(e.map(e=>({...e,isExpanded:e.id===n&&!e.isExpanded})))};return n?(0,i.jsx)("div",{className:c().loading,children:"로딩 중..."}):o?(0,i.jsxs)("div",{className:c().error,children:["에러가 발생했습니다: ",o]}):(0,i.jsxs)("div",{className:c().container,children:[(0,i.jsx)("h1",{className:c().title,children:"회의록 목록"}),(0,i.jsxs)("div",{className:c().meetingCount,children:["총 ",e.length,"개의 회의록이 있습니다."]}),0===e.length?(0,i.jsx)("div",{className:c().noMeetings,children:"등록된 회의록이 없습니다."}):(0,i.jsx)("div",{className:c().meetingsList,children:e.map(e=>(0,i.jsxs)("div",{className:"".concat(c().meetingCard," ").concat(e.isExpanded?c().expanded:""),onClick:()=>_(e.id),children:[(0,i.jsx)("h2",{className:c().meetingTitle,children:e.title}),(0,i.jsxs)("div",{className:c().meetingInfo,children:[(0,i.jsxs)("p",{children:["날짜: ",e.createdAt]}),(0,i.jsxs)("p",{children:["참석자 수: ",e.participants,"명"]}),(0,i.jsxs)("p",{children:["참석자: ",e.participantName.length>0?e.participantName.join(", "):"참석자 정보 없음"]}),e.audioUrl&&(0,i.jsxs)("div",{className:c().audioSection,children:[(0,i.jsx)("h3",{children:"회의 음성"}),(0,i.jsxs)("audio",{controls:!0,className:c().audioPlayer,children:[(0,i.jsx)("source",{src:e.audioUrl,type:"audio/mpeg"}),"브라우저가 오디오 재생을 지원하지 않습니다."]})]}),e.isExpanded&&e.textinfo&&e.textinfo.length>0&&(0,i.jsxs)("div",{className:c().textInfo,children:[(0,i.jsx)("h3",{children:"회의 내용"}),(0,i.jsx)("div",{className:c().transcript,children:e.textinfo.map((e,t)=>(0,i.jsxs)("div",{className:c().transcriptSegment,children:[(0,i.jsxs)("span",{className:c().speaker,children:[e.speaker,":"]}),(0,i.jsx)("span",{className:c().text,children:e.text})]},t))})]})]})]},e.id))})]})}},8131:function(e,t,n){"use strict";n.d(t,{db:function(){return r},t:function(){return c}});var i=n(738),s=n(5978),a=n(62);let l=(0,i.ZF)({apiKey:"AIzaSyDH5W4RtjTzBkRa0wlPW9isIxv3jlAHRB8",authDomain:"talktotext-37f54.firebaseapp.com",projectId:"talktotext-37f54",storageBucket:"talktotext-37f54.firebasestorage.app",messagingSenderId:"682893808651",appId:"1:682893808651:web:d6ba5b055ef8308506230e"}),r=(0,s.ad)(l),c=(0,a.cF)(l)},9999:function(e){e.exports={container:"meetings_container__btLA6",title:"meetings_title__wzd3H",meetingCount:"meetings_meetingCount__P8E6N",meetingsList:"meetings_meetingsList__BFjdb",meetingCard:"meetings_meetingCard__bO25G",meetingTitle:"meetings_meetingTitle__a3q2b",meetingInfo:"meetings_meetingInfo__cVSc2",audioSection:"meetings_audioSection__2t5qO",audioPlayer:"meetings_audioPlayer__LOZDJ",loading:"meetings_loading__AScJf",error:"meetings_error__0a60A",noMeetings:"meetings_noMeetings__zkadH",textInfo:"meetings_textInfo__wEl3J",transcript:"meetings_transcript__nin73",transcriptSegment:"meetings_transcriptSegment__vegXj",speaker:"meetings_speaker__zjT8U",text:"meetings_text__uOooj",expanded:"meetings_expanded__fJiis"}}},function(e){e.O(0,[217,358,763,971,117,744],function(){return e(e.s=9914)}),_N_E=e.O()}]);