(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[572],{5590:function(e,a,t){Promise.resolve().then(t.bind(t,2134))},2134:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return p}});var n=t(7437),i=t(2265),s=t(9376),r=t(8131),o=t(5978),_=t(62),c=t(6777),l=t.n(c);function p(){let e=(0,s.useRouter)(),[a,t]=(0,i.useState)(null),[c,p]=(0,i.useState)(""),[m,u]=(0,i.useState)(0),[g,d]=(0,i.useState)(""),[h,x]=(0,i.useState)(!1),b=e=>{let a=e.getFullYear(),t=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return"".concat(a).concat(t).concat(n)},j=async()=>{if(!a)return alert("파일을 선택하세요");if(!c)return alert("제목을 입력하세요");if(!m)return alert("참석자 수를 입력하세요");if(!g)return alert("참석자 이름을 입력하세요");try{x(!0);let t=b(new Date),n=c.replace(/[^a-zA-Z0-9가-힣]/g,"_"),i="".concat(t,"_").concat(n,"_").concat(m,"명"),s=a.name.split(".").pop(),l="".concat(i,".").concat(s);await (0,o.pl)((0,o.JU)(r.db,"meetings",i),{title:c,participants:parseInt(m),participantName:g.split(",").map(e=>e.trim()),createAt:(0,o.Bt)()});let p=(0,_.iH)(r.t,"audio/".concat(l));await (0,_.KV)(p,a);let u=await (0,_.Jt)(p),d=await fetch("/api/process-audio",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({audioUrl:u,docId:i})}),h=await d.json();if(!d.ok)throw Error(h.error||h.details||"음성 처리 중 오류가 발생했습니다");if(!h.success)throw Error(h.error||"음성 처리 중 오류가 발생했습니다");let j=h.transcript.map(e=>({speaker:e.speaker,text:e.text})),v={audioUrl:u,audioFileName:l,textinfo:j,keywords:h.keywords,summary:h.summary,summaryDownloadUrl:h.summaryDownloadUrl};await (0,o.r7)((0,o.JU)(r.db,"meetings",i),v),alert("회의록 저장 완료!"),e.push("/meetings")}catch(e){console.error("Error saving meeting:",e),alert(e.message||"저장 중 오류가 발생했습니다.")}finally{x(!1)}};return(0,n.jsxs)("div",{className:l()["examples-upcoming-web"],children:[(0,n.jsx)("nav",{className:l()["navigation-rail"],children:(0,n.jsxs)("div",{className:l()["nav-items"],children:[(0,n.jsxs)("div",{className:l()["nav-item"],onClick:()=>e.push("/"),style:{cursor:"pointer"},children:[(0,n.jsx)("div",{className:l().icon,children:"\uD83C\uDFE0"}),(0,n.jsx)("span",{children:"홈"})]}),(0,n.jsxs)("div",{className:l()["nav-item"],onClick:()=>e.push("/create"),style:{cursor:"pointer"},children:[(0,n.jsx)("div",{className:l().icon,children:"\uD83C\uDF99️"}),(0,n.jsx)("span",{children:"회의 생성"})]}),(0,n.jsxs)("div",{className:l()["nav-item"],children:[(0,n.jsx)("div",{className:l().icon,children:"\uD83C\uDFA4"}),(0,n.jsx)("span",{children:"음성 녹음"})]}),(0,n.jsxs)("div",{className:l()["nav-item"],onClick:()=>e.push("/meetings"),style:{cursor:"pointer"},children:[(0,n.jsx)("div",{className:l().icon,children:"\uD83D\uDCCB"}),(0,n.jsx)("span",{children:"전체 회의록"})]}),(0,n.jsxs)("div",{className:l()["nav-item"],children:[(0,n.jsx)("div",{className:l().icon,children:"⚙️"}),(0,n.jsx)("span",{children:"미정"})]})]})}),(0,n.jsxs)("main",{className:l()["main-content"],children:[(0,n.jsxs)("header",{className:l().header,children:[(0,n.jsx)("h1",{children:"회의록 생성"}),(0,n.jsxs)("div",{className:l()["header-actions"],children:[(0,n.jsx)("button",{className:l()["icon-button"],children:"\uD83D\uDCCE"}),(0,n.jsx)("button",{className:l()["icon-button"],children:"\uD83D\uDCC5"}),(0,n.jsx)("button",{className:l()["icon-button"],children:"⋮"})]})]}),(0,n.jsx)("div",{className:l().carousel,children:(0,n.jsx)("div",{className:l()["carousel-item"],children:(0,n.jsxs)("div",{className:l().form,children:[(0,n.jsxs)("div",{className:l().formGroup,children:[(0,n.jsx)("label",{children:"제목:"}),(0,n.jsx)("input",{type:"text",value:c,onChange:e=>p(e.target.value),placeholder:"회의 제목을 입력하세요"})]}),(0,n.jsxs)("div",{className:l().formGroup,children:[(0,n.jsx)("label",{children:"참석자 수:"}),(0,n.jsx)("input",{type:"number",value:m,onChange:e=>u(e.target.value),placeholder:"참석자 수를 입력하세요"})]}),(0,n.jsxs)("div",{className:l().formGroup,children:[(0,n.jsx)("label",{children:"참석자 이름 (쉼표로 구분):"}),(0,n.jsx)("input",{type:"text",value:g,onChange:e=>d(e.target.value),placeholder:"참석자 이름을 쉼표로 구분하여 입력하세요"})]}),(0,n.jsxs)("div",{className:l().formGroup,children:[(0,n.jsx)("label",{children:"음성 파일:"}),(0,n.jsx)("input",{type:"file",accept:"audio/*",onChange:e=>t(e.target.files[0])})]}),(0,n.jsx)("button",{className:l().submitButton,onClick:j,disabled:h,children:h?"처리 중...":"회의록 저장"})]})})})]})]})}},8131:function(e,a,t){"use strict";t.d(a,{db:function(){return o},t:function(){return _}});var n=t(738),i=t(5978),s=t(62);let r=(0,n.ZF)({apiKey:"AIzaSyDH5W4RtjTzBkRa0wlPW9isIxv3jlAHRB8",authDomain:"talktotext-37f54.firebaseapp.com",projectId:"talktotext-37f54",storageBucket:"talktotext-37f54.firebasestorage.app",messagingSenderId:"682893808651",appId:"1:682893808651:web:d6ba5b055ef8308506230e"}),o=(0,i.ad)(r),_=(0,s.cF)(r)},6777:function(e){e.exports={page:"page_page__556_G",main:"page_main__nw1Wk",ctas:"page_ctas__rfsth",primary:"page_primary__2CBMe",secondary:"page_secondary__jzhTV",footer:"page_footer__F3MD0",logo:"page_logo__ikIZE",container:"page_container__jZF7q",sidebar:"page_sidebar__p2GLB",sidebarItem:"page_sidebarItem__ceKqc",icon:"page_icon__HtCf9",mainContent:"page_mainContent__TeHAh",header:"page_header__oRW75",headerActions:"page_headerActions__jn5aq",iconButton:"page_iconButton__hOl9u",section:"page_section__zQZ2o",card:"page_card__Cf__u",button:"page_button__52WaL",meetingList:"page_meetingList__FlCJ1",meetingItem:"page_meetingItem__LdY_i",meetingIcon:"page_meetingIcon__NQP2O",meetingContent:"page_meetingContent__5BcRJ",moreButton:"page_moreButton__NVyG2",fab:"page_fab__ZGFKq","examples-upcoming-web":"page_examples-upcoming-web__q48zM","navigation-rail":"page_navigation-rail__B3wIK","nav-items":"page_nav-items__51Q6H","nav-item":"page_nav-item__i1Tib","main-content":"page_main-content__KozU2","header-actions":"page_header-actions__bzi3d","icon-button":"page_icon-button__QybRG",carousel:"page_carousel__YHSiC","carousel-item":"page_carousel-item__XVR3p","recent-meetings":"page_recent-meetings__dHYSB","meeting-list":"page_meeting-list__ZhLkU","meeting-item":"page_meeting-item___2GyD",thumbnail:"page_thumbnail__gKHvO",content:"page_content___38fW","more-button":"page_more-button__wB__V",form:"page_form__NxPAx",formGroup:"page_formGroup__SWXkg",submitButton:"page_submitButton__NQB5P",loading:"page_loading__4WMny",meetingsList:"page_meetingsList__pbb_H",summary:"page_summary__OssiC",viewButton:"page_viewButton__yEPKw",meetingDetail:"page_meetingDetail__39d9s",meetingHeader:"page_meetingHeader__Kjwsw",meetingMeta:"page_meetingMeta__Oj7ZI",summarySection:"page_summarySection__KUhib",keywordsSection:"page_keywordsSection__K8xqD",transcriptSection:"page_transcriptSection__yGOuQ",audioSection:"page_audioSection__gPax7",summaryContent:"page_summaryContent__GcXi8",downloadLink:"page_downloadLink__CrLpF",keywordsList:"page_keywordsList__vm81t",keyword:"page_keyword__cu32o",transcriptContent:"page_transcriptContent__TmgpK",transcriptSegment:"page_transcriptSegment__s5fXz",speaker:"page_speaker__sFv9e",text:"page_text__9vMJ3",audioPlayer:"page_audioPlayer__0CaBw",error:"page_error__JBrsB"}}},function(e){e.O(0,[250,358,261,971,117,744],function(){return e(e.s=5590)}),_N_E=e.O()}]);